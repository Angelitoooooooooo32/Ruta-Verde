<div class="forgot-container">
  <div class="forgot-wrapper">
    <!-- Promotional Side -->
    <div class="forgot-promo">
      <div class="promo-background"></div>
      <div class="promo-content">
        <div class="promo-icon">ğŸ”</div>
        <h2 class="promo-title">Â¿Olvidaste tu contraseÃ±a?</h2>
        <p class="promo-subtitle">Te ayudaremos a recuperar el acceso a tu cuenta en segundos</p>
        <div class="promo-features">
          <div class="feature">
            <span class="feature-icon">âœ“</span>
            <span>Proceso seguro</span>
          </div>
          <div class="feature">
            <span class="feature-icon">âœ“</span>
            <span>ConfirmaciÃ³n por email</span>
          </div>
          <div class="feature">
            <span class="feature-icon">âœ“</span>
            <span>RecuperaciÃ³n rÃ¡pida</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Form Side -->
    <div class="forgot-form">
      <div class="form-card">
        <!-- Header -->
        <div class="form-header">
          <div class="header-logo">
            <div class="logo-circle">ğŸŒ±</div>
          </div>
          <h1 class="form-title">Ruta Verde</h1>
          <p class="form-subtitle">Recuperar contraseÃ±a</p>
        </div>

        <!-- Content -->
        <div class="form-content">
          @if (error()) {
            <div class="alert alert-error">
              <span class="alert-icon">âš ï¸</span>
              <span class="alert-text">{{ error() }}</span>
            </div>
          }

          @if (!sent()) {
            <!-- Recovery Form -->
            <form [formGroup]="form" (ngSubmit)="onSubmit()" class="recovery-form">
              <div class="form-group">
                <label class="form-label">Correo ElectrÃ³nico</label>
                <div class="input-field">
                  <span class="input-icon">ğŸ“§</span>
                  <input 
                    type="email" 
                    formControlName="email" 
                    placeholder="tu@email.com"
                    aria-label="Correo electrÃ³nico"
                    class="input-control"
                  />
                </div>
                @if (form.controls.email.errors?.['required'] && form.controls.email.touched) {
                  <span class="field-error">El correo es requerido</span>
                }
                @if (form.controls.email.errors?.['email'] && form.controls.email.touched) {
                  <span class="field-error">Ingresa un correo vÃ¡lido</span>
                }
              </div>

              <button 
                type="submit" 
                class="btn btn-primary"
                [disabled]="loading() || form.invalid"
                aria-label="Enviar enlace de recuperaciÃ³n"
              >
                @if (loading()) {
                  <span class="btn-spinner"></span>
                  <span>Enviando...</span>
                } @else {
                  <span class="btn-icon">ğŸ“¨</span>
                  <span>Enviar Enlace de RecuperaciÃ³n</span>
                }
              </button>
            </form>
          } @else {
            <!-- Success Message -->
            <div class="success-box">
              <div class="success-icon">âœ“</div>
              <h2 class="success-title">Â¡Correo Enviado!</h2>
              <p class="success-message">
                Hemos enviado un enlace de recuperaciÃ³n a tu correo. 
                Por favor, revisa tu bandeja de entrada y sigue las instrucciones.
              </p>
              <div class="success-tips">
                <p class="tips-title">ğŸ’¡ Consejos:</p>
                <ul>
                  <li>Si no ves el correo en tu bandeja, revisa Spam</li>
                  <li>El enlace es vÃ¡lido por 24 horas</li>
                  <li>No compartas tu enlace con nadie</li>
                </ul>
              </div>
            </div>
          }
        </div>

        <!-- Footer -->
        <div class="form-footer">
          @if (!sent()) {
            <p class="footer-text">
              Â¿Recuerdas tu contraseÃ±a?
              <a routerLink="/auth/login" class="footer-link">Volver a iniciar sesiÃ³n</a>
            </p>
          } @else {
            <button routerLink="/auth/login" class="btn btn-ghost">
              Volver a iniciar sesiÃ³n
            </button>
          }
        </div>
      </div>
    </div>
  </div>
</div>
